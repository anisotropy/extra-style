/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	eval("__webpack_require__(1);\n__webpack_require__(2);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvZXh0cmEtc3R5bGUuanM/ZWQ0YiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuL3N0YXRpYy1zdHlsZS5qcycpO1xucmVxdWlyZSgnLi9yZXNwLXN0eWxlLmpzJyk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL2V4dHJhLXN0eWxlLmpzXG4gKiogbW9kdWxlIGlkID0gMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==");

/***/ },
/* 1 */
/***/ function(module, exports) {

	eval("(function($){\n\t$.fn.extraStyle = function(arg){\n\t\tvar target = this.selector;\n\t\t$(document).ready(function(){\n\t\t\t$(target).each(function(){\n\t\t\t\tfor(var prop in arg){\n\t\t\t\t\tif(funcs[prop]) funcs[prop]($(this), arg[prop]);\n\t\t\t\t\telse $(this).css(prop, arg[prop]);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n\tvar funcs = {\n\t\tratio: function($target, value){\n\t\t\tvar owidth = getDim($target).width;\n\t\t\t$target.outerHeight(owidth * value);\n\t\t\t$target.on('resize', function(){\n\t\t\t\tvar intv = setInterval(function(){\n\t\t\t\t\tif(owidth != getDim($target).width){\n\t\t\t\t\t\t$target.outerHeight(getDim($target).width * value);\n\t\t\t\t\t\tclearInterval(intv);\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t});\n\t\t\t$(window).resize(function(){\n\t\t\t\t$target.outerHeight(getDim($target).width * value);\n\t\t\t});\n\t\t},\n\t\tfitted: function($target, value){\n\t\t\tif(!$target.is('img') || value != 'yes') return;\n\t\t\t$target.parent().css('overflow', 'hidden');\n\t\t\t$target.css('width', '100%');\n\t\t\tvar owidth = getDim($target).width;\n\t\t\t$target.on('load', function(){ fitAndCrop($target); });\n\t\t\t$(window).resize(function(){\n\t\t\t\t$target.css({ 'width': '', 'height': '', 'margin-left': '', 'margin-top': '' });\n\t\t\t\tfitAndCrop($target);\n\t\t\t});\n\t\t\t$target.on('resize', function(){\n\t\t\t\tvar intv = setInterval(function(){\n\t\t\t\t\tif(owidth != getDim($target).width){\n\t\t\t\t\t\t$target.css({ 'width': '', 'height': '', 'margin-left': '', 'margin-top': '' });\n\t\t\t\t\t\tfitAndCrop($target);\n\t\t\t\t\t\tclearInterval(intv);\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t});\n\n\t\t\tfunction fitAndCrop($image){\n\t\t\t\tvar width = getDim($image).width;\n\t\t\t\tvar height = getDim($image).height;\n\t\t\t\tvar wrapWidth = getDim($image.parent()).width;\n\t\t\t\tvar wrapHeight = getDim($image.parent()).height;\n\t\t\t\tvar ratio = wrapWidth / width;\n\t\t\t\tif(height * ratio < wrapHeight){\n\t\t\t\t\tratio = wrapHeight / height;\n\t\t\t\t\tvar nH = height * ratio;\n\t\t\t\t\tvar nW = width * ratio;\n\t\t\t\t\t$image.css({ width: nW, height: nH });\n\t\t\t\t\t$image.css({ 'margin-left': (wrapWidth-nW)/2, 'margin-top': 0 });\n\t\t\t\t} else {\n\t\t\t\t\tvar nH = height * ratio;\n\t\t\t\t\tvar nW = width * ratio;\n\t\t\t\t\t$image.css({ width: nW, height: nH });\n\t\t\t\t\t$image.css({ 'margin-top': (wrapHeight-nH)/2, 'margin-left': 0 });\n\t\t\t\t}\n\t\t\t}\n\t\t}//fittted\n\t}\n\tfunction getDim($obj){\n\t\treturn $obj[0].getBoundingClientRect();\n\t}\n})(jQuery);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvc3RhdGljLXN0eWxlLmpzPzg2ZmYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFCQUFxQixFQUFFO0FBQ3hEO0FBQ0EsaUJBQWlCLGlFQUFpRTtBQUNsRjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaUVBQWlFO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHdCQUF3QjtBQUN6QyxpQkFBaUIsbURBQW1EO0FBQ3BFLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUJBQWlCLHdCQUF3QjtBQUN6QyxpQkFBaUIsb0RBQW9EO0FBQ3JFO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCl7XG5cdCQuZm4uZXh0cmFTdHlsZSA9IGZ1bmN0aW9uKGFyZyl7XG5cdFx0dmFyIHRhcmdldCA9IHRoaXMuc2VsZWN0b3I7XG5cdFx0JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblx0XHRcdCQodGFyZ2V0KS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGZvcih2YXIgcHJvcCBpbiBhcmcpe1xuXHRcdFx0XHRcdGlmKGZ1bmNzW3Byb3BdKSBmdW5jc1twcm9wXSgkKHRoaXMpLCBhcmdbcHJvcF0pO1xuXHRcdFx0XHRcdGVsc2UgJCh0aGlzKS5jc3MocHJvcCwgYXJnW3Byb3BdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblx0dmFyIGZ1bmNzID0ge1xuXHRcdHJhdGlvOiBmdW5jdGlvbigkdGFyZ2V0LCB2YWx1ZSl7XG5cdFx0XHR2YXIgb3dpZHRoID0gZ2V0RGltKCR0YXJnZXQpLndpZHRoO1xuXHRcdFx0JHRhcmdldC5vdXRlckhlaWdodChvd2lkdGggKiB2YWx1ZSk7XG5cdFx0XHQkdGFyZ2V0Lm9uKCdyZXNpemUnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHR2YXIgaW50diA9IHNldEludGVydmFsKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0aWYob3dpZHRoICE9IGdldERpbSgkdGFyZ2V0KS53aWR0aCl7XG5cdFx0XHRcdFx0XHQkdGFyZ2V0Lm91dGVySGVpZ2h0KGdldERpbSgkdGFyZ2V0KS53aWR0aCAqIHZhbHVlKTtcblx0XHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoaW50dik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LCAzMDApO1xuXHRcdFx0fSk7XG5cdFx0XHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCR0YXJnZXQub3V0ZXJIZWlnaHQoZ2V0RGltKCR0YXJnZXQpLndpZHRoICogdmFsdWUpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRmaXR0ZWQ6IGZ1bmN0aW9uKCR0YXJnZXQsIHZhbHVlKXtcblx0XHRcdGlmKCEkdGFyZ2V0LmlzKCdpbWcnKSB8fCB2YWx1ZSAhPSAneWVzJykgcmV0dXJuO1xuXHRcdFx0JHRhcmdldC5wYXJlbnQoKS5jc3MoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuXHRcdFx0JHRhcmdldC5jc3MoJ3dpZHRoJywgJzEwMCUnKTtcblx0XHRcdHZhciBvd2lkdGggPSBnZXREaW0oJHRhcmdldCkud2lkdGg7XG5cdFx0XHQkdGFyZ2V0Lm9uKCdsb2FkJywgZnVuY3Rpb24oKXsgZml0QW5kQ3JvcCgkdGFyZ2V0KTsgfSk7XG5cdFx0XHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCR0YXJnZXQuY3NzKHsgJ3dpZHRoJzogJycsICdoZWlnaHQnOiAnJywgJ21hcmdpbi1sZWZ0JzogJycsICdtYXJnaW4tdG9wJzogJycgfSk7XG5cdFx0XHRcdGZpdEFuZENyb3AoJHRhcmdldCk7XG5cdFx0XHR9KTtcblx0XHRcdCR0YXJnZXQub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHZhciBpbnR2ID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRpZihvd2lkdGggIT0gZ2V0RGltKCR0YXJnZXQpLndpZHRoKXtcblx0XHRcdFx0XHRcdCR0YXJnZXQuY3NzKHsgJ3dpZHRoJzogJycsICdoZWlnaHQnOiAnJywgJ21hcmdpbi1sZWZ0JzogJycsICdtYXJnaW4tdG9wJzogJycgfSk7XG5cdFx0XHRcdFx0XHRmaXRBbmRDcm9wKCR0YXJnZXQpO1xuXHRcdFx0XHRcdFx0Y2xlYXJJbnRlcnZhbChpbnR2KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sIDMwMCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0ZnVuY3Rpb24gZml0QW5kQ3JvcCgkaW1hZ2Upe1xuXHRcdFx0XHR2YXIgd2lkdGggPSBnZXREaW0oJGltYWdlKS53aWR0aDtcblx0XHRcdFx0dmFyIGhlaWdodCA9IGdldERpbSgkaW1hZ2UpLmhlaWdodDtcblx0XHRcdFx0dmFyIHdyYXBXaWR0aCA9IGdldERpbSgkaW1hZ2UucGFyZW50KCkpLndpZHRoO1xuXHRcdFx0XHR2YXIgd3JhcEhlaWdodCA9IGdldERpbSgkaW1hZ2UucGFyZW50KCkpLmhlaWdodDtcblx0XHRcdFx0dmFyIHJhdGlvID0gd3JhcFdpZHRoIC8gd2lkdGg7XG5cdFx0XHRcdGlmKGhlaWdodCAqIHJhdGlvIDwgd3JhcEhlaWdodCl7XG5cdFx0XHRcdFx0cmF0aW8gPSB3cmFwSGVpZ2h0IC8gaGVpZ2h0O1xuXHRcdFx0XHRcdHZhciBuSCA9IGhlaWdodCAqIHJhdGlvO1xuXHRcdFx0XHRcdHZhciBuVyA9IHdpZHRoICogcmF0aW87XG5cdFx0XHRcdFx0JGltYWdlLmNzcyh7IHdpZHRoOiBuVywgaGVpZ2h0OiBuSCB9KTtcblx0XHRcdFx0XHQkaW1hZ2UuY3NzKHsgJ21hcmdpbi1sZWZ0JzogKHdyYXBXaWR0aC1uVykvMiwgJ21hcmdpbi10b3AnOiAwIH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciBuSCA9IGhlaWdodCAqIHJhdGlvO1xuXHRcdFx0XHRcdHZhciBuVyA9IHdpZHRoICogcmF0aW87XG5cdFx0XHRcdFx0JGltYWdlLmNzcyh7IHdpZHRoOiBuVywgaGVpZ2h0OiBuSCB9KTtcblx0XHRcdFx0XHQkaW1hZ2UuY3NzKHsgJ21hcmdpbi10b3AnOiAod3JhcEhlaWdodC1uSCkvMiwgJ21hcmdpbi1sZWZ0JzogMCB9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0vL2ZpdHR0ZWRcblx0fVxuXHRmdW5jdGlvbiBnZXREaW0oJG9iail7XG5cdFx0cmV0dXJuICRvYmpbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdH1cbn0pKGpRdWVyeSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vYXBwL3N0YXRpYy1zdHlsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ },
/* 2 */
/***/ function(module, exports) {

	eval("(function($){\n\tvar _bp = [320, 768, 1024, 1280];\n\n\t$(document).ready(function(){\n\t\tvar scrollbar = (window.innerWidth != $(window).outerWidth());\n\t\tsetInterval(function(){\n\t\t\tif(scrollbar && window.innerWidth == $(window).outerWidth()){\n\t\t\t\t$(window).trigger('changeScrollbar'); scrollbar = false;\n\t\t\t} else if(!scrollbar && window.innerWidth != $(window).outerWidth()){\n\t\t\t\t$(window).trigger('changeScrollbar'); scrollbar = true;\n\t\t\t}\n\t\t}, 100);\n\t});\n\t$.respStyle = function(arg){if(arg){\n\t\tvar array = arg.split(' ');\n\t\tif(array.length < 2){ console.error('Error: the length of break points'); return false; }\n\t\t_bp = [];\n\t\tfor(var i = 0, len = array.length; i < len; i++){\n\t\t\tif($.isNumeric(array[i])) _bp.push(parseFloat(array[i]));\n\t\t}\n\t}}\n\t$.fn.respStyle = function(arg){\n\t\tvar target = this.selector;\n\t\t$(document).ready(function(){\n\t\t\t$(target).each(function(){\n\t\t\t\tvar $target = $(this);\n\t\t\t\tvar style = new Style(arg);\n\t\t\t\t$target.css(style.css());\n\t\t\t\t$(window).resize(function(){\n\t\t\t\t\t$target.css(style.css());\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\t$.fn.respGrid = function(arg){\n\t\tvar target = this.selector;\n\t\t$(document).ready(function(){\n\t\t\t$(target).each(function(){\n\t\t\t\t$(this).css('overflow', 'hidden');\n\t\t\t\t$(this).children('div').addClass('es').addClass('es-cell').css({float: 'left', overflow: 'hidden'});\n\t\t\t\tif($(this).is('.es.es-cell')) $(this).addClass('es-nested');\n\t\t\t\tvar $target = $(this);\n\t\t\t\tvar grid = new Grid(arg, $target.children('.es.es-cell').length);\n\t\t\t\t/*\n\t\t\t\tvar curGData = calcGrid(gridData);\n\t\t\t\tadjustCell($target, curGData);\n\t\t\t\t$(window).on('completeResize', function(){\n\t\t\t\t\tcurGData = calcGrid(gridData);\n\t\t\t\t\tadjustCell($target, curGData);\n\t\t\t\t});\n\t\t\t\t$(window).on('changeScrollbar', function(){\n\t\t\t\t\tadjustWidth($target, curGData);\n\t\t\t\t});\n\t\t\t\t*/\n\t\t\t});\n\t\t});\n\t}\n\n\t// style ////\n\tfunction Style(arg){\n\t\tvar this_data = {};\n\t\tvar this_lbp = [];\n\t\tvar this_style = {};\n\t\tthis.css = function(calc){\n\t\t\tif(calc === undefined || calc) this.calcStyle(this_data, this_lbp, this_style);\n\t\t\treturn this_style;\n\t\t}\n\t\t//initialize ////\n\t\tif(arg){\n\t\t\tthis.convToObj(arg, this_data, this_lbp);\n\t\t\tthis.validate(this_data, this_lbp);\n\t\t\tthis.calcEqual(this_data);\n\t\t\tthis.calcMiddle(this_data, this_lbp);\n\t\t}\n\t}\n\tStyle.prototype.convToObj = function(arg, data, lbp){\n\t\tfor(var prop in arg){\n\t\t\tif(prop !== 'breakpoint'){\n\t\t\t\tdata[prop] = { series: [], max: false, unit: 'px', func: 'linear'};\n\t\t\t\tthis.convToObjEach(arg[prop], data[prop]);\n\t\t\t} else {\n\t\t\t\tthis.convToObjEach(arg[prop], lbp);\n\t\t\t}\n\t\t}\n\t}\n\tStyle.prototype.convToObjEach = function(propOfArg, propOfData){\n\t\tvar array = propOfArg.split(' ');\n\t\tif(array.length < 1){ console.error('Error: the length of argument'); return false; }\n\t\tif($.type(propOfData) === 'object'){\n\t\t\tfor(var i = 0, len = array.length; i < len; i++){\n\t\t\t\tif($.isNumeric(array[i])) propOfData.series.push(parseFloat(array[i]));\n\t\t\t\telse if(array[i] === '-' || array[i] === '=') propOfData.series.push(array[i]);\n\t\t\t\telse if(this.isNotNumVal(array[i])) propOfData.series.push(array[i]);\n\t\t\t\telse if(this.isUnit(array[i])) propOfData.unit = array[i];\n\t\t\t\telse if(array[i] === 'max') propOfData.max = true;\n\t\t\t\telse if(array[i] === 'linear' || array[i] === 'step' || array[i] === 'saw') propOfData.func = array[i];\n\t\t\t}\n\t\t} else if($.type(propOfData) === 'array'){\n\t\t\tfor(var i = 0, len = array.length; i < len; i++){\n\t\t\t\tif($.isNumeric(array[i])) propOfData.push(parseFloat(array[i]));\n\t\t\t\telse if(array[i] === '-' || array[i] === '=') propOfData.push(array[i]);\n\t\t\t\telse if(this.isNotNumVal(array[i])) propOfData.push(array[i]);\n\t\t\t}\n\t\t}\n\t}\n\tStyle.prototype.validate = function(data, lbp){\n\t\tvar bpLength;\n\t\tif(lbp.length == 0) bpLength = _bp.length; else bpLength =  lbp.length;\n\t\tfor(var prop in data){\n\t\t\tif($.type(data[prop]) === 'object'){\n\t\t\t\tif(data[prop].func !== 'saw' && data[prop].series.length < bpLength){\n\t\t\t\t\tfor(var i = data[prop].series.length, len = bpLength; i < len; i++){\n\t\t\t\t\t\tdata[prop].series[i] = data[prop].series[i-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(data[prop].func === 'saw' && data[prop].series.length <bpLength*2){\n\t\t\t\t\tfor(var i = data[prop].series.length, len = bpLength*2; i < len; i++){\n\t\t\t\t\t\tdata[prop].series[i] = data[prop].series[i-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if($.type(data[prop]) === 'array'){\n\t\t\t\tif(data[prop].length < bpLength){\n\t\t\t\t\tfor(var i = data[prop].length, len = bpLength; i < len; i++){\n\t\t\t\t\t\tdata[prop][i] = data[prop][i-1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tStyle.prototype.calcMiddle = function(data, lbp){\n\t\tvar bp; if(lbp.length == 0) bp = _bp; else bp = lbp;\n\t\tfor(var prop in data){\n\t\t\tvar series;\n\t\t\tif($.type(data[prop]) === 'object') series = data[prop].series;\n\t\t\telse if($.type(data[prop]) === 'array') series = data[prop];\n\t\t\tvar pni = 0, nni = 0;\n\t\t\tif(series[0] === '-'){ console.error('Wrong usage of \"-\"'); return; }\n\t\t\tfor(var i = 0, len = series.length; i < len-1; i++){\n\t\t\t\tif($.isNumeric(series[i])) pni = i;\n\t\t\t\tif(series[i] === '-'){\n\t\t\t\t\tif(nni === 0 || nni < i){\n\t\t\t\t\t\tfor(var j = i+1; j < len; j++){\n\t\t\t\t\t\t\tif($.isNumeric(series[j])){ nni = j; break; }\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(nni === 0 || nni < i) {\n\t\t\t\t\t\t\tconsole.error('Wrong usage of \"-\"'); return;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tseries[i] = (series[nni] - series[pni]) * (bp[i] - bp[pni]) / (bp[nni] - bp[pni]) + series[pni];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tStyle.prototype.calcEqual = function(data){\n\t\tfor(var prop in data){\n\t\t\tvar series;\n\t\t\tif($.type(data[prop]) === 'object') series = data[prop].series;\n\t\t\tif(series[0] === '='){ console.error('Wrong usage of \"=\"'); return; }\n\t\t\tfor(var i = 1, len = series.length; i < len; i++){\n\t\t\t\tif(series[i] === '=') series[i] = series[i-1];\n\t\t\t}\n\t\t}\n\t}\n\tStyle.prototype.calcStyle = function(data, lbp, style){\n\t\tvar sbp = {};\n\t\tsbp.ww = window.innerWidth;\n\t\tif(lbp.length == 0) sbp.bp = _bp; else sbp.bp = lbp;\n\t\tif(sbp.ww < sbp.bp[0]) sbp.bpi = -1;\n\t\telse if(sbp.ww >=  sbp.bp[sbp.bp.length-1]) sbp.bpi = -2;\n\t\telse { for(var i = 0; i < sbp.bp.length-1; i++){\n\t\t\tif(sbp.bp[i] <= sbp.ww && sbp.ww < sbp.bp[i+1]){ sbp.bpi = i; break; }\n\t\t}}\n\n\t\tfor(var prop in data){\n\t\t\tif(!this.isNotNumProp(prop)){\n\t\t\t\tstyle[prop] = this.calc(data[prop].series, data[prop].max, data[prop].func, sbp) + data[prop].unit;\n\t\t\t} else {\n\t\t\t\tstyle[prop] = this.pick(data[prop].series, sbp);\n\t\t\t}\n\t\t}\n\t}\n\tStyle.prototype.pick = function(series, sbp){\n\t\tif(sbp.bpi >= 0) return series[sbp.bpi];\n\t\telse if(sbp.bpi == -1) return series[0];\n\t\telse if(sbp.bpi == -2) return series[sbp.bp.length-1];\n\t}\n\tStyle.prototype.calc = function(series, max, func, sbp){\n\t\tvar bp = sbp.bp;\n\t\tvar bpi = sbp.bpi;\n\t\tvar len = sbp.bp.length;\n\t\tvar ww = sbp.ww;\n\n\t\tvar i;\n\t\tif(bpi >= 0){\n\t\t\ti = bpi;\n\t\t} else if(bpi === -1){\n\t\t\treturn series[0];\n\t\t} else if(bpi === -2){\n\t\t\tif(max){\n\t\t\t\tif(func !== 'saw') return series[len-1];\n\t\t\t\telse if(func === 'saw') return series[2*(len-1)+1];\n\t\t\t} else {\n\t\t\t\tif(func === 'linear' || func === 'saw'){ i = len-2; }\n\t\t\t\telse if(func === 'step') i = len - 1;\n\t\t\t}\n\t\t}\n\n\t\tif(func === 'step'){\n\t\t\treturn series[i];\n\t\t} else if(func === 'linear'){\n\t\t\tif(bpi >= 0)\n\t\t\t\treturn (series[i+1] - series[i]) * (ww - bp[i]) / (bp[i+1] - bp[i]) + series[i];\n\t\t\telse\n\t\t\t\treturn (series[i+1] - series[i]) * (ww - bp[i+1]) / (bp[i+1] - bp[i]) + series[i+1];\n\t\t} else if(func === 'saw'){\n\t\t\tif(bpi >= 0)\n\t\t\t\treturn (series[i*2+1] - series[i*2]) * (ww - bp[i]) / (bp[i+1] - bp[i]) + series[i*2];\n\t\t\telse\n\t\t\t\treturn (series[i*2+3] - series[i*2+2]) * (ww - bp[i]) / (bp[i+1] - bp[i]) + series[i*2+2];\n\t\t}\n\t}\n\tStyle.prototype.isUnit = function(unit){\n\t\tvar units = ['em', 'ex', '%', 'px', 'cm', 'mm', 'in', 'pt', 'pc', 'ch', 'rem', 'vh', 'vw', 'vmin', 'vmax'];\n\t\tif($.inArray(unit, units) > -1) return true; else return false;\n\t}\n\tStyle.prototype.isNotNumVal = function(value){\n\t\tvar values = ['left', 'right', 'none', 'absolute', 'fixed', 'static', 'hidden', 'scroll', 'auto',\n\t\t\t'block', 'inline', 'inline-block'];\n\t\tif($.inArray(value, values) > -1) return true; else return false;\n\t}\n\tStyle.prototype.isNotNumProp = function(prop){\n\t\tvar props = ['float', 'position', 'overflow', 'overflow-x', 'overflow-y', 'display'];\n\t\tif($.inArray(prop, props) > -1) return true; else return false;\n\t}\n\n\t// grid ////\n\tfunction Grid(arg, numCell){\n\t\tvar this_data = {\n\t\t\tcolumns: [], ratio: [],\n\t\t\tgutter: {series: [], max: false, func: 'linear'},\n\t\t\tcells: new Array(numCell)\n\t\t};\n\t\tvar this_grid = {};\n\t\tvar this_lbp = [];\n\t\t//initialize ////\n\t\tif(arg){\n\t\t\tthis.convToObj(arg, this_data, this_lbp);\n\t\t\tthis.postConv(this_data, this_lbp);\n\t\t}\n\t}\n\tGrid.prototype = new Style();\n\tGrid.prototype.convToObj = function(arg, data, lbp){\n\t\tif(arg.breakpoint) this.convToObjEach(arg.breakpoint, lbp);\n\t\tfor(var prop in arg){\n\t\t\tif(data[prop]) this.convToObjEach(arg[prop], data[prop]);\n\t\t\telse if(prop.match(/^cell/)){\n\t\t\t\tvar index = parseInt(prop.replace(/^cell/, ''));\n\t\t\t\tdata.cells[index] = [];\n\t\t\t\tthis.convToObjEach(arg[prop], data.cells[index]);\n\t\t\t}\n\n\t\t}\n\t}\n\tGrid.prototype.postConv = function(data, lbp){\n\t\t/*\n\t\tthis.validate(data, lbp);\n\t\tthis.calcEqual(data);\n\t\tthis.calcMiddle(data, lbp);\n\t\t*/\n\t}\n\tGrid.prototype.calcGrid = function(data, lbp, grid){\n\t\tvar cur = {}, idx;\n\t\tif(_bpi >= 0) idx = _bpi;\n\t\telse if(_bpi == -1) idx = 0;\n\t\telse if(_bpi == -2) idx = _bp.length-1;\n\t\tcur.columns = data.columns[idx];\n\t\tcur.ratio = data.ratio[idx];\n\t\tcur.gutter = calc(data.gutter.series, data.gutter.max, data.gutter.func);\n\t\tcur.cells = [];\n\t\tfor(var i = 0, len = data.cells.length; i < len; i++){\n\t\t\t if(data.cells[i]) cur.cells[i] = data.cells[i][idx];\n\t\t\t else cur.cells[i] = 1;\n\t\t}\n\t\treturn cur;\n\t}\n\tfunction adjustCell($target, curGData){\n\t\tvar preW = $target.outerWidth();\n\t\tvar gut = curGData.gutter;\n\t\tvar cols = curGData.columns;\n\t\tvar cells = curGData.cells;\n\t\tvar $cells = $target.children('.es.es-cell');\n\t\tvar length = $cells.length;\n\t\tvar cw = (getDim($target).width - gut*(cols-1))/cols;\n\t\tvar maxCh = 0;\n\t\t$cells.css({'margin-right': 0, 'margin-top': 0});\n\t\tif(curGData.ratio !== 'auto') $cells.css({width: 0, height: 0});\n\t\telse $cells.css({width: 0, height: 0});\n\t\t$cells.each(function(index){\n\t\t\t$(this).outerWidth(cw*cells[index] + gut*(cells[index]-1));\n\t\t\tif((index+1) % cols !== 0 && index < length-1) $(this).css({'margin-right': gut});\n\t\t\tif(index >= cols) $(this).css({'margin-top': gut});\n\t\t\tif(curGData.ratio === 'auto'){\n\t\t\t\t$(this).css({height: ''});\n\t\t\t\tif(maxCh < getDim($(this)).height) maxCh = getDim($(this)).height;\n\t\t\t\tif(cols !== 1 && (index+1) % cols === 0){\n\t\t\t\t\tfor(var i = index - cols + 1; i <= index; i++) $cells.eq(i).outerHeight(maxCh);\n\t\t\t\t\tmaxCh = 0;\n\t\t\t\t} else if(cols !== 1 && index === length-1) {\n\t\t\t\t\tfor(var i = Math.floor((index+1)/cols) * cols; i <= index; i++) $cells.eq(i).outerHeight(maxCh);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar height = cw * curGData.ratio;\n\t\t\t\tif($target.is('.es.es-nested')) height -= (gut - gut/Math.ceil(length/cols));\n\t\t\t\t$(this).outerHeight(height);\n\t\t\t}\n\t\t});\n\t\tif(preW != $target.outerWidth()){\n\t\t\tcw = (getDim($target).width - gut*(cols-1))/cols;\n\t\t\t$cells.each(function(index){ $(this).outerWidth(cw*cells[index] + gut*(cells[index]-1)); });\n\t\t}\n\t}\n\tfunction adjustWidth($target, curGData){\n\t\tvar gut = curGData.gutter;\n\t\tvar cols = curGData.columns;\n\t\tvar cells = curGData.cells;\n\t\tvar $cells = $target.children('.es.es-cell');\n\t\tvar cw = (getDim($target).width - gut*(cols-1))/cols;\n\t\t$cells.each(function(index){\n\t\t\t$(this).outerWidth(cw*cells[index] + gut*(cells[index]-1));\n\t\t});\n\t}\n\t/*\n\tfunction calcGrid(data){\n\t\tvar cur = {}, idx;\n\t\tif(_bpi >= 0) idx = _bpi;\n\t\telse if(_bpi == -1) idx = 0;\n\t\telse if(_bpi == -2) idx = _bp.length-1;\n\t\tcur.columns = data.columns[idx];\n\t\tcur.ratio = data.ratio[idx];\n\t\tcur.gutter = calc(data.gutter.series, data.gutter.max, data.gutter.func);\n\t\tcur.cells = [];\n\t\tfor(var i = 0, len = data.cells.length; i < len; i++){\n\t\t\t if(data.cells[i]) cur.cells[i] = data.cells[i][idx];\n\t\t\t else cur.cells[i] = 1;\n\t\t}\n\t\treturn cur;\n\t}\n\t*/\n\tfunction getDim($obj){\n\t\treturn $obj[0].getBoundingClientRect();\n\t}\n})(jQuery);\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hcHAvcmVzcC1zdHlsZS5qcz80NDQ0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsSUFBSTtBQUNKLHlDQUF5QztBQUN6QztBQUNBLEdBQUc7QUFDSCxFQUFFO0FBQ0YsNkJBQTZCO0FBQzdCO0FBQ0EsdUJBQXVCLG9EQUFvRCxjQUFjO0FBQ3pGO0FBQ0Esb0NBQW9DLFNBQVM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGtDQUFrQztBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsZ0RBQWdELGNBQWM7QUFDckY7QUFDQSxxQ0FBcUMsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxxQ0FBcUMsU0FBUztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxTQUFTO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFNBQVM7QUFDckU7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDhCQUE4QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFDQUFxQyxRQUFRO0FBQ3RFLHNDQUFzQyxXQUFXO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CLGtDQUFrQyxTQUFTLE9BQU87QUFDbEQ7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHFDQUFxQyxRQUFRO0FBQ3RFLHNDQUFzQyxTQUFTO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQSxRQUFRLGVBQWUscUJBQXFCO0FBQzVDLG1EQUFtRCxhQUFhLE9BQU87QUFDdkU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSiw0Q0FBNEMsV0FBVztBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdUNBQXVDO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxtQ0FBbUM7QUFDakQsNENBQTRDLG9CQUFvQjtBQUNoRSxtQkFBbUIsb0JBQW9CO0FBQ3ZDO0FBQ0E7QUFDQSwrREFBK0Qsb0JBQW9CO0FBQ25GLGtDQUFrQyxrQkFBa0I7QUFDcEQ7QUFDQSxpQkFBaUIsV0FBVztBQUM1QjtBQUNBO0FBQ0Esa0NBQWtDLFlBQVk7QUFDOUM7QUFDQSxLQUFLO0FBQ0wsbURBQW1ELFlBQVk7QUFDL0Q7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLCtCQUErQiw0REFBNEQsRUFBRTtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsU0FBUztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oJCl7XG5cdHZhciBfYnAgPSBbMzIwLCA3NjgsIDEwMjQsIDEyODBdO1xuXG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdFx0dmFyIHNjcm9sbGJhciA9ICh3aW5kb3cuaW5uZXJXaWR0aCAhPSAkKHdpbmRvdykub3V0ZXJXaWR0aCgpKTtcblx0XHRzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuXHRcdFx0aWYoc2Nyb2xsYmFyICYmIHdpbmRvdy5pbm5lcldpZHRoID09ICQod2luZG93KS5vdXRlcldpZHRoKCkpe1xuXHRcdFx0XHQkKHdpbmRvdykudHJpZ2dlcignY2hhbmdlU2Nyb2xsYmFyJyk7IHNjcm9sbGJhciA9IGZhbHNlO1xuXHRcdFx0fSBlbHNlIGlmKCFzY3JvbGxiYXIgJiYgd2luZG93LmlubmVyV2lkdGggIT0gJCh3aW5kb3cpLm91dGVyV2lkdGgoKSl7XG5cdFx0XHRcdCQod2luZG93KS50cmlnZ2VyKCdjaGFuZ2VTY3JvbGxiYXInKTsgc2Nyb2xsYmFyID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LCAxMDApO1xuXHR9KTtcblx0JC5yZXNwU3R5bGUgPSBmdW5jdGlvbihhcmcpe2lmKGFyZyl7XG5cdFx0dmFyIGFycmF5ID0gYXJnLnNwbGl0KCcgJyk7XG5cdFx0aWYoYXJyYXkubGVuZ3RoIDwgMil7IGNvbnNvbGUuZXJyb3IoJ0Vycm9yOiB0aGUgbGVuZ3RoIG9mIGJyZWFrIHBvaW50cycpOyByZXR1cm4gZmFsc2U7IH1cblx0XHRfYnAgPSBbXTtcblx0XHRmb3IodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG5cdFx0XHRpZigkLmlzTnVtZXJpYyhhcnJheVtpXSkpIF9icC5wdXNoKHBhcnNlRmxvYXQoYXJyYXlbaV0pKTtcblx0XHR9XG5cdH19XG5cdCQuZm4ucmVzcFN0eWxlID0gZnVuY3Rpb24oYXJnKXtcblx0XHR2YXIgdGFyZ2V0ID0gdGhpcy5zZWxlY3Rvcjtcblx0XHQkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpe1xuXHRcdFx0JCh0YXJnZXQpLmVhY2goZnVuY3Rpb24oKXtcblx0XHRcdFx0dmFyICR0YXJnZXQgPSAkKHRoaXMpO1xuXHRcdFx0XHR2YXIgc3R5bGUgPSBuZXcgU3R5bGUoYXJnKTtcblx0XHRcdFx0JHRhcmdldC5jc3Moc3R5bGUuY3NzKCkpO1xuXHRcdFx0XHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0JHRhcmdldC5jc3Moc3R5bGUuY3NzKCkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cdCQuZm4ucmVzcEdyaWQgPSBmdW5jdGlvbihhcmcpe1xuXHRcdHZhciB0YXJnZXQgPSB0aGlzLnNlbGVjdG9yO1xuXHRcdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdFx0XHQkKHRhcmdldCkuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHQkKHRoaXMpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJyk7XG5cdFx0XHRcdCQodGhpcykuY2hpbGRyZW4oJ2RpdicpLmFkZENsYXNzKCdlcycpLmFkZENsYXNzKCdlcy1jZWxsJykuY3NzKHtmbG9hdDogJ2xlZnQnLCBvdmVyZmxvdzogJ2hpZGRlbid9KTtcblx0XHRcdFx0aWYoJCh0aGlzKS5pcygnLmVzLmVzLWNlbGwnKSkgJCh0aGlzKS5hZGRDbGFzcygnZXMtbmVzdGVkJyk7XG5cdFx0XHRcdHZhciAkdGFyZ2V0ID0gJCh0aGlzKTtcblx0XHRcdFx0dmFyIGdyaWQgPSBuZXcgR3JpZChhcmcsICR0YXJnZXQuY2hpbGRyZW4oJy5lcy5lcy1jZWxsJykubGVuZ3RoKTtcblx0XHRcdFx0Lypcblx0XHRcdFx0dmFyIGN1ckdEYXRhID0gY2FsY0dyaWQoZ3JpZERhdGEpO1xuXHRcdFx0XHRhZGp1c3RDZWxsKCR0YXJnZXQsIGN1ckdEYXRhKTtcblx0XHRcdFx0JCh3aW5kb3cpLm9uKCdjb21wbGV0ZVJlc2l6ZScsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0Y3VyR0RhdGEgPSBjYWxjR3JpZChncmlkRGF0YSk7XG5cdFx0XHRcdFx0YWRqdXN0Q2VsbCgkdGFyZ2V0LCBjdXJHRGF0YSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQkKHdpbmRvdykub24oJ2NoYW5nZVNjcm9sbGJhcicsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0YWRqdXN0V2lkdGgoJHRhcmdldCwgY3VyR0RhdGEpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ki9cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gc3R5bGUgLy8vL1xuXHRmdW5jdGlvbiBTdHlsZShhcmcpe1xuXHRcdHZhciB0aGlzX2RhdGEgPSB7fTtcblx0XHR2YXIgdGhpc19sYnAgPSBbXTtcblx0XHR2YXIgdGhpc19zdHlsZSA9IHt9O1xuXHRcdHRoaXMuY3NzID0gZnVuY3Rpb24oY2FsYyl7XG5cdFx0XHRpZihjYWxjID09PSB1bmRlZmluZWQgfHwgY2FsYykgdGhpcy5jYWxjU3R5bGUodGhpc19kYXRhLCB0aGlzX2xicCwgdGhpc19zdHlsZSk7XG5cdFx0XHRyZXR1cm4gdGhpc19zdHlsZTtcblx0XHR9XG5cdFx0Ly9pbml0aWFsaXplIC8vLy9cblx0XHRpZihhcmcpe1xuXHRcdFx0dGhpcy5jb252VG9PYmooYXJnLCB0aGlzX2RhdGEsIHRoaXNfbGJwKTtcblx0XHRcdHRoaXMudmFsaWRhdGUodGhpc19kYXRhLCB0aGlzX2xicCk7XG5cdFx0XHR0aGlzLmNhbGNFcXVhbCh0aGlzX2RhdGEpO1xuXHRcdFx0dGhpcy5jYWxjTWlkZGxlKHRoaXNfZGF0YSwgdGhpc19sYnApO1xuXHRcdH1cblx0fVxuXHRTdHlsZS5wcm90b3R5cGUuY29udlRvT2JqID0gZnVuY3Rpb24oYXJnLCBkYXRhLCBsYnApe1xuXHRcdGZvcih2YXIgcHJvcCBpbiBhcmcpe1xuXHRcdFx0aWYocHJvcCAhPT0gJ2JyZWFrcG9pbnQnKXtcblx0XHRcdFx0ZGF0YVtwcm9wXSA9IHsgc2VyaWVzOiBbXSwgbWF4OiBmYWxzZSwgdW5pdDogJ3B4JywgZnVuYzogJ2xpbmVhcid9O1xuXHRcdFx0XHR0aGlzLmNvbnZUb09iakVhY2goYXJnW3Byb3BdLCBkYXRhW3Byb3BdKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuY29udlRvT2JqRWFjaChhcmdbcHJvcF0sIGxicCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFN0eWxlLnByb3RvdHlwZS5jb252VG9PYmpFYWNoID0gZnVuY3Rpb24ocHJvcE9mQXJnLCBwcm9wT2ZEYXRhKXtcblx0XHR2YXIgYXJyYXkgPSBwcm9wT2ZBcmcuc3BsaXQoJyAnKTtcblx0XHRpZihhcnJheS5sZW5ndGggPCAxKXsgY29uc29sZS5lcnJvcignRXJyb3I6IHRoZSBsZW5ndGggb2YgYXJndW1lbnQnKTsgcmV0dXJuIGZhbHNlOyB9XG5cdFx0aWYoJC50eXBlKHByb3BPZkRhdGEpID09PSAnb2JqZWN0Jyl7XG5cdFx0XHRmb3IodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKyl7XG5cdFx0XHRcdGlmKCQuaXNOdW1lcmljKGFycmF5W2ldKSkgcHJvcE9mRGF0YS5zZXJpZXMucHVzaChwYXJzZUZsb2F0KGFycmF5W2ldKSk7XG5cdFx0XHRcdGVsc2UgaWYoYXJyYXlbaV0gPT09ICctJyB8fCBhcnJheVtpXSA9PT0gJz0nKSBwcm9wT2ZEYXRhLnNlcmllcy5wdXNoKGFycmF5W2ldKTtcblx0XHRcdFx0ZWxzZSBpZih0aGlzLmlzTm90TnVtVmFsKGFycmF5W2ldKSkgcHJvcE9mRGF0YS5zZXJpZXMucHVzaChhcnJheVtpXSk7XG5cdFx0XHRcdGVsc2UgaWYodGhpcy5pc1VuaXQoYXJyYXlbaV0pKSBwcm9wT2ZEYXRhLnVuaXQgPSBhcnJheVtpXTtcblx0XHRcdFx0ZWxzZSBpZihhcnJheVtpXSA9PT0gJ21heCcpIHByb3BPZkRhdGEubWF4ID0gdHJ1ZTtcblx0XHRcdFx0ZWxzZSBpZihhcnJheVtpXSA9PT0gJ2xpbmVhcicgfHwgYXJyYXlbaV0gPT09ICdzdGVwJyB8fCBhcnJheVtpXSA9PT0gJ3NhdycpIHByb3BPZkRhdGEuZnVuYyA9IGFycmF5W2ldO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZigkLnR5cGUocHJvcE9mRGF0YSkgPT09ICdhcnJheScpe1xuXHRcdFx0Zm9yKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0XHRpZigkLmlzTnVtZXJpYyhhcnJheVtpXSkpIHByb3BPZkRhdGEucHVzaChwYXJzZUZsb2F0KGFycmF5W2ldKSk7XG5cdFx0XHRcdGVsc2UgaWYoYXJyYXlbaV0gPT09ICctJyB8fCBhcnJheVtpXSA9PT0gJz0nKSBwcm9wT2ZEYXRhLnB1c2goYXJyYXlbaV0pO1xuXHRcdFx0XHRlbHNlIGlmKHRoaXMuaXNOb3ROdW1WYWwoYXJyYXlbaV0pKSBwcm9wT2ZEYXRhLnB1c2goYXJyYXlbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRTdHlsZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbihkYXRhLCBsYnApe1xuXHRcdHZhciBicExlbmd0aDtcblx0XHRpZihsYnAubGVuZ3RoID09IDApIGJwTGVuZ3RoID0gX2JwLmxlbmd0aDsgZWxzZSBicExlbmd0aCA9ICBsYnAubGVuZ3RoO1xuXHRcdGZvcih2YXIgcHJvcCBpbiBkYXRhKXtcblx0XHRcdGlmKCQudHlwZShkYXRhW3Byb3BdKSA9PT0gJ29iamVjdCcpe1xuXHRcdFx0XHRpZihkYXRhW3Byb3BdLmZ1bmMgIT09ICdzYXcnICYmIGRhdGFbcHJvcF0uc2VyaWVzLmxlbmd0aCA8IGJwTGVuZ3RoKXtcblx0XHRcdFx0XHRmb3IodmFyIGkgPSBkYXRhW3Byb3BdLnNlcmllcy5sZW5ndGgsIGxlbiA9IGJwTGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0XHRcdFx0ZGF0YVtwcm9wXS5zZXJpZXNbaV0gPSBkYXRhW3Byb3BdLnNlcmllc1tpLTFdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIGlmKGRhdGFbcHJvcF0uZnVuYyA9PT0gJ3NhdycgJiYgZGF0YVtwcm9wXS5zZXJpZXMubGVuZ3RoIDxicExlbmd0aCoyKXtcblx0XHRcdFx0XHRmb3IodmFyIGkgPSBkYXRhW3Byb3BdLnNlcmllcy5sZW5ndGgsIGxlbiA9IGJwTGVuZ3RoKjI7IGkgPCBsZW47IGkrKyl7XG5cdFx0XHRcdFx0XHRkYXRhW3Byb3BdLnNlcmllc1tpXSA9IGRhdGFbcHJvcF0uc2VyaWVzW2ktMV07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYoJC50eXBlKGRhdGFbcHJvcF0pID09PSAnYXJyYXknKXtcblx0XHRcdFx0aWYoZGF0YVtwcm9wXS5sZW5ndGggPCBicExlbmd0aCl7XG5cdFx0XHRcdFx0Zm9yKHZhciBpID0gZGF0YVtwcm9wXS5sZW5ndGgsIGxlbiA9IGJwTGVuZ3RoOyBpIDwgbGVuOyBpKyspe1xuXHRcdFx0XHRcdFx0ZGF0YVtwcm9wXVtpXSA9IGRhdGFbcHJvcF1baS0xXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0U3R5bGUucHJvdG90eXBlLmNhbGNNaWRkbGUgPSBmdW5jdGlvbihkYXRhLCBsYnApe1xuXHRcdHZhciBicDsgaWYobGJwLmxlbmd0aCA9PSAwKSBicCA9IF9icDsgZWxzZSBicCA9IGxicDtcblx0XHRmb3IodmFyIHByb3AgaW4gZGF0YSl7XG5cdFx0XHR2YXIgc2VyaWVzO1xuXHRcdFx0aWYoJC50eXBlKGRhdGFbcHJvcF0pID09PSAnb2JqZWN0Jykgc2VyaWVzID0gZGF0YVtwcm9wXS5zZXJpZXM7XG5cdFx0XHRlbHNlIGlmKCQudHlwZShkYXRhW3Byb3BdKSA9PT0gJ2FycmF5Jykgc2VyaWVzID0gZGF0YVtwcm9wXTtcblx0XHRcdHZhciBwbmkgPSAwLCBubmkgPSAwO1xuXHRcdFx0aWYoc2VyaWVzWzBdID09PSAnLScpeyBjb25zb2xlLmVycm9yKCdXcm9uZyB1c2FnZSBvZiBcIi1cIicpOyByZXR1cm47IH1cblx0XHRcdGZvcih2YXIgaSA9IDAsIGxlbiA9IHNlcmllcy5sZW5ndGg7IGkgPCBsZW4tMTsgaSsrKXtcblx0XHRcdFx0aWYoJC5pc051bWVyaWMoc2VyaWVzW2ldKSkgcG5pID0gaTtcblx0XHRcdFx0aWYoc2VyaWVzW2ldID09PSAnLScpe1xuXHRcdFx0XHRcdGlmKG5uaSA9PT0gMCB8fCBubmkgPCBpKXtcblx0XHRcdFx0XHRcdGZvcih2YXIgaiA9IGkrMTsgaiA8IGxlbjsgaisrKXtcblx0XHRcdFx0XHRcdFx0aWYoJC5pc051bWVyaWMoc2VyaWVzW2pdKSl7IG5uaSA9IGo7IGJyZWFrOyB9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZihubmkgPT09IDAgfHwgbm5pIDwgaSkge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdXcm9uZyB1c2FnZSBvZiBcIi1cIicpOyByZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlcmllc1tpXSA9IChzZXJpZXNbbm5pXSAtIHNlcmllc1twbmldKSAqIChicFtpXSAtIGJwW3BuaV0pIC8gKGJwW25uaV0gLSBicFtwbmldKSArIHNlcmllc1twbmldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdFN0eWxlLnByb3RvdHlwZS5jYWxjRXF1YWwgPSBmdW5jdGlvbihkYXRhKXtcblx0XHRmb3IodmFyIHByb3AgaW4gZGF0YSl7XG5cdFx0XHR2YXIgc2VyaWVzO1xuXHRcdFx0aWYoJC50eXBlKGRhdGFbcHJvcF0pID09PSAnb2JqZWN0Jykgc2VyaWVzID0gZGF0YVtwcm9wXS5zZXJpZXM7XG5cdFx0XHRpZihzZXJpZXNbMF0gPT09ICc9Jyl7IGNvbnNvbGUuZXJyb3IoJ1dyb25nIHVzYWdlIG9mIFwiPVwiJyk7IHJldHVybjsgfVxuXHRcdFx0Zm9yKHZhciBpID0gMSwgbGVuID0gc2VyaWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcblx0XHRcdFx0aWYoc2VyaWVzW2ldID09PSAnPScpIHNlcmllc1tpXSA9IHNlcmllc1tpLTFdO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRTdHlsZS5wcm90b3R5cGUuY2FsY1N0eWxlID0gZnVuY3Rpb24oZGF0YSwgbGJwLCBzdHlsZSl7XG5cdFx0dmFyIHNicCA9IHt9O1xuXHRcdHNicC53dyA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXHRcdGlmKGxicC5sZW5ndGggPT0gMCkgc2JwLmJwID0gX2JwOyBlbHNlIHNicC5icCA9IGxicDtcblx0XHRpZihzYnAud3cgPCBzYnAuYnBbMF0pIHNicC5icGkgPSAtMTtcblx0XHRlbHNlIGlmKHNicC53dyA+PSAgc2JwLmJwW3NicC5icC5sZW5ndGgtMV0pIHNicC5icGkgPSAtMjtcblx0XHRlbHNlIHsgZm9yKHZhciBpID0gMDsgaSA8IHNicC5icC5sZW5ndGgtMTsgaSsrKXtcblx0XHRcdGlmKHNicC5icFtpXSA8PSBzYnAud3cgJiYgc2JwLnd3IDwgc2JwLmJwW2krMV0peyBzYnAuYnBpID0gaTsgYnJlYWs7IH1cblx0XHR9fVxuXG5cdFx0Zm9yKHZhciBwcm9wIGluIGRhdGEpe1xuXHRcdFx0aWYoIXRoaXMuaXNOb3ROdW1Qcm9wKHByb3ApKXtcblx0XHRcdFx0c3R5bGVbcHJvcF0gPSB0aGlzLmNhbGMoZGF0YVtwcm9wXS5zZXJpZXMsIGRhdGFbcHJvcF0ubWF4LCBkYXRhW3Byb3BdLmZ1bmMsIHNicCkgKyBkYXRhW3Byb3BdLnVuaXQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzdHlsZVtwcm9wXSA9IHRoaXMucGljayhkYXRhW3Byb3BdLnNlcmllcywgc2JwKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0U3R5bGUucHJvdG90eXBlLnBpY2sgPSBmdW5jdGlvbihzZXJpZXMsIHNicCl7XG5cdFx0aWYoc2JwLmJwaSA+PSAwKSByZXR1cm4gc2VyaWVzW3NicC5icGldO1xuXHRcdGVsc2UgaWYoc2JwLmJwaSA9PSAtMSkgcmV0dXJuIHNlcmllc1swXTtcblx0XHRlbHNlIGlmKHNicC5icGkgPT0gLTIpIHJldHVybiBzZXJpZXNbc2JwLmJwLmxlbmd0aC0xXTtcblx0fVxuXHRTdHlsZS5wcm90b3R5cGUuY2FsYyA9IGZ1bmN0aW9uKHNlcmllcywgbWF4LCBmdW5jLCBzYnApe1xuXHRcdHZhciBicCA9IHNicC5icDtcblx0XHR2YXIgYnBpID0gc2JwLmJwaTtcblx0XHR2YXIgbGVuID0gc2JwLmJwLmxlbmd0aDtcblx0XHR2YXIgd3cgPSBzYnAud3c7XG5cblx0XHR2YXIgaTtcblx0XHRpZihicGkgPj0gMCl7XG5cdFx0XHRpID0gYnBpO1xuXHRcdH0gZWxzZSBpZihicGkgPT09IC0xKXtcblx0XHRcdHJldHVybiBzZXJpZXNbMF07XG5cdFx0fSBlbHNlIGlmKGJwaSA9PT0gLTIpe1xuXHRcdFx0aWYobWF4KXtcblx0XHRcdFx0aWYoZnVuYyAhPT0gJ3NhdycpIHJldHVybiBzZXJpZXNbbGVuLTFdO1xuXHRcdFx0XHRlbHNlIGlmKGZ1bmMgPT09ICdzYXcnKSByZXR1cm4gc2VyaWVzWzIqKGxlbi0xKSsxXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmKGZ1bmMgPT09ICdsaW5lYXInIHx8IGZ1bmMgPT09ICdzYXcnKXsgaSA9IGxlbi0yOyB9XG5cdFx0XHRcdGVsc2UgaWYoZnVuYyA9PT0gJ3N0ZXAnKSBpID0gbGVuIC0gMTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZihmdW5jID09PSAnc3RlcCcpe1xuXHRcdFx0cmV0dXJuIHNlcmllc1tpXTtcblx0XHR9IGVsc2UgaWYoZnVuYyA9PT0gJ2xpbmVhcicpe1xuXHRcdFx0aWYoYnBpID49IDApXG5cdFx0XHRcdHJldHVybiAoc2VyaWVzW2krMV0gLSBzZXJpZXNbaV0pICogKHd3IC0gYnBbaV0pIC8gKGJwW2krMV0gLSBicFtpXSkgKyBzZXJpZXNbaV07XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiAoc2VyaWVzW2krMV0gLSBzZXJpZXNbaV0pICogKHd3IC0gYnBbaSsxXSkgLyAoYnBbaSsxXSAtIGJwW2ldKSArIHNlcmllc1tpKzFdO1xuXHRcdH0gZWxzZSBpZihmdW5jID09PSAnc2F3Jyl7XG5cdFx0XHRpZihicGkgPj0gMClcblx0XHRcdFx0cmV0dXJuIChzZXJpZXNbaSoyKzFdIC0gc2VyaWVzW2kqMl0pICogKHd3IC0gYnBbaV0pIC8gKGJwW2krMV0gLSBicFtpXSkgKyBzZXJpZXNbaSoyXTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIChzZXJpZXNbaSoyKzNdIC0gc2VyaWVzW2kqMisyXSkgKiAod3cgLSBicFtpXSkgLyAoYnBbaSsxXSAtIGJwW2ldKSArIHNlcmllc1tpKjIrMl07XG5cdFx0fVxuXHR9XG5cdFN0eWxlLnByb3RvdHlwZS5pc1VuaXQgPSBmdW5jdGlvbih1bml0KXtcblx0XHR2YXIgdW5pdHMgPSBbJ2VtJywgJ2V4JywgJyUnLCAncHgnLCAnY20nLCAnbW0nLCAnaW4nLCAncHQnLCAncGMnLCAnY2gnLCAncmVtJywgJ3ZoJywgJ3Z3JywgJ3ZtaW4nLCAndm1heCddO1xuXHRcdGlmKCQuaW5BcnJheSh1bml0LCB1bml0cykgPiAtMSkgcmV0dXJuIHRydWU7IGVsc2UgcmV0dXJuIGZhbHNlO1xuXHR9XG5cdFN0eWxlLnByb3RvdHlwZS5pc05vdE51bVZhbCA9IGZ1bmN0aW9uKHZhbHVlKXtcblx0XHR2YXIgdmFsdWVzID0gWydsZWZ0JywgJ3JpZ2h0JywgJ25vbmUnLCAnYWJzb2x1dGUnLCAnZml4ZWQnLCAnc3RhdGljJywgJ2hpZGRlbicsICdzY3JvbGwnLCAnYXV0bycsXG5cdFx0XHQnYmxvY2snLCAnaW5saW5lJywgJ2lubGluZS1ibG9jayddO1xuXHRcdGlmKCQuaW5BcnJheSh2YWx1ZSwgdmFsdWVzKSA+IC0xKSByZXR1cm4gdHJ1ZTsgZWxzZSByZXR1cm4gZmFsc2U7XG5cdH1cblx0U3R5bGUucHJvdG90eXBlLmlzTm90TnVtUHJvcCA9IGZ1bmN0aW9uKHByb3Ape1xuXHRcdHZhciBwcm9wcyA9IFsnZmxvYXQnLCAncG9zaXRpb24nLCAnb3ZlcmZsb3cnLCAnb3ZlcmZsb3cteCcsICdvdmVyZmxvdy15JywgJ2Rpc3BsYXknXTtcblx0XHRpZigkLmluQXJyYXkocHJvcCwgcHJvcHMpID4gLTEpIHJldHVybiB0cnVlOyBlbHNlIHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8vIGdyaWQgLy8vL1xuXHRmdW5jdGlvbiBHcmlkKGFyZywgbnVtQ2VsbCl7XG5cdFx0dmFyIHRoaXNfZGF0YSA9IHtcblx0XHRcdGNvbHVtbnM6IFtdLCByYXRpbzogW10sXG5cdFx0XHRndXR0ZXI6IHtzZXJpZXM6IFtdLCBtYXg6IGZhbHNlLCBmdW5jOiAnbGluZWFyJ30sXG5cdFx0XHRjZWxsczogbmV3IEFycmF5KG51bUNlbGwpXG5cdFx0fTtcblx0XHR2YXIgdGhpc19ncmlkID0ge307XG5cdFx0dmFyIHRoaXNfbGJwID0gW107XG5cdFx0Ly9pbml0aWFsaXplIC8vLy9cblx0XHRpZihhcmcpe1xuXHRcdFx0dGhpcy5jb252VG9PYmooYXJnLCB0aGlzX2RhdGEsIHRoaXNfbGJwKTtcblx0XHRcdHRoaXMucG9zdENvbnYodGhpc19kYXRhLCB0aGlzX2xicCk7XG5cdFx0fVxuXHR9XG5cdEdyaWQucHJvdG90eXBlID0gbmV3IFN0eWxlKCk7XG5cdEdyaWQucHJvdG90eXBlLmNvbnZUb09iaiA9IGZ1bmN0aW9uKGFyZywgZGF0YSwgbGJwKXtcblx0XHRpZihhcmcuYnJlYWtwb2ludCkgdGhpcy5jb252VG9PYmpFYWNoKGFyZy5icmVha3BvaW50LCBsYnApO1xuXHRcdGZvcih2YXIgcHJvcCBpbiBhcmcpe1xuXHRcdFx0aWYoZGF0YVtwcm9wXSkgdGhpcy5jb252VG9PYmpFYWNoKGFyZ1twcm9wXSwgZGF0YVtwcm9wXSk7XG5cdFx0XHRlbHNlIGlmKHByb3AubWF0Y2goL15jZWxsLykpe1xuXHRcdFx0XHR2YXIgaW5kZXggPSBwYXJzZUludChwcm9wLnJlcGxhY2UoL15jZWxsLywgJycpKTtcblx0XHRcdFx0ZGF0YS5jZWxsc1tpbmRleF0gPSBbXTtcblx0XHRcdFx0dGhpcy5jb252VG9PYmpFYWNoKGFyZ1twcm9wXSwgZGF0YS5jZWxsc1tpbmRleF0pO1xuXHRcdFx0fVxuXG5cdFx0fVxuXHR9XG5cdEdyaWQucHJvdG90eXBlLnBvc3RDb252ID0gZnVuY3Rpb24oZGF0YSwgbGJwKXtcblx0XHQvKlxuXHRcdHRoaXMudmFsaWRhdGUoZGF0YSwgbGJwKTtcblx0XHR0aGlzLmNhbGNFcXVhbChkYXRhKTtcblx0XHR0aGlzLmNhbGNNaWRkbGUoZGF0YSwgbGJwKTtcblx0XHQqL1xuXHR9XG5cdEdyaWQucHJvdG90eXBlLmNhbGNHcmlkID0gZnVuY3Rpb24oZGF0YSwgbGJwLCBncmlkKXtcblx0XHR2YXIgY3VyID0ge30sIGlkeDtcblx0XHRpZihfYnBpID49IDApIGlkeCA9IF9icGk7XG5cdFx0ZWxzZSBpZihfYnBpID09IC0xKSBpZHggPSAwO1xuXHRcdGVsc2UgaWYoX2JwaSA9PSAtMikgaWR4ID0gX2JwLmxlbmd0aC0xO1xuXHRcdGN1ci5jb2x1bW5zID0gZGF0YS5jb2x1bW5zW2lkeF07XG5cdFx0Y3VyLnJhdGlvID0gZGF0YS5yYXRpb1tpZHhdO1xuXHRcdGN1ci5ndXR0ZXIgPSBjYWxjKGRhdGEuZ3V0dGVyLnNlcmllcywgZGF0YS5ndXR0ZXIubWF4LCBkYXRhLmd1dHRlci5mdW5jKTtcblx0XHRjdXIuY2VsbHMgPSBbXTtcblx0XHRmb3IodmFyIGkgPSAwLCBsZW4gPSBkYXRhLmNlbGxzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcblx0XHRcdCBpZihkYXRhLmNlbGxzW2ldKSBjdXIuY2VsbHNbaV0gPSBkYXRhLmNlbGxzW2ldW2lkeF07XG5cdFx0XHQgZWxzZSBjdXIuY2VsbHNbaV0gPSAxO1xuXHRcdH1cblx0XHRyZXR1cm4gY3VyO1xuXHR9XG5cdGZ1bmN0aW9uIGFkanVzdENlbGwoJHRhcmdldCwgY3VyR0RhdGEpe1xuXHRcdHZhciBwcmVXID0gJHRhcmdldC5vdXRlcldpZHRoKCk7XG5cdFx0dmFyIGd1dCA9IGN1ckdEYXRhLmd1dHRlcjtcblx0XHR2YXIgY29scyA9IGN1ckdEYXRhLmNvbHVtbnM7XG5cdFx0dmFyIGNlbGxzID0gY3VyR0RhdGEuY2VsbHM7XG5cdFx0dmFyICRjZWxscyA9ICR0YXJnZXQuY2hpbGRyZW4oJy5lcy5lcy1jZWxsJyk7XG5cdFx0dmFyIGxlbmd0aCA9ICRjZWxscy5sZW5ndGg7XG5cdFx0dmFyIGN3ID0gKGdldERpbSgkdGFyZ2V0KS53aWR0aCAtIGd1dCooY29scy0xKSkvY29scztcblx0XHR2YXIgbWF4Q2ggPSAwO1xuXHRcdCRjZWxscy5jc3MoeydtYXJnaW4tcmlnaHQnOiAwLCAnbWFyZ2luLXRvcCc6IDB9KTtcblx0XHRpZihjdXJHRGF0YS5yYXRpbyAhPT0gJ2F1dG8nKSAkY2VsbHMuY3NzKHt3aWR0aDogMCwgaGVpZ2h0OiAwfSk7XG5cdFx0ZWxzZSAkY2VsbHMuY3NzKHt3aWR0aDogMCwgaGVpZ2h0OiAwfSk7XG5cdFx0JGNlbGxzLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0JCh0aGlzKS5vdXRlcldpZHRoKGN3KmNlbGxzW2luZGV4XSArIGd1dCooY2VsbHNbaW5kZXhdLTEpKTtcblx0XHRcdGlmKChpbmRleCsxKSAlIGNvbHMgIT09IDAgJiYgaW5kZXggPCBsZW5ndGgtMSkgJCh0aGlzKS5jc3MoeydtYXJnaW4tcmlnaHQnOiBndXR9KTtcblx0XHRcdGlmKGluZGV4ID49IGNvbHMpICQodGhpcykuY3NzKHsnbWFyZ2luLXRvcCc6IGd1dH0pO1xuXHRcdFx0aWYoY3VyR0RhdGEucmF0aW8gPT09ICdhdXRvJyl7XG5cdFx0XHRcdCQodGhpcykuY3NzKHtoZWlnaHQ6ICcnfSk7XG5cdFx0XHRcdGlmKG1heENoIDwgZ2V0RGltKCQodGhpcykpLmhlaWdodCkgbWF4Q2ggPSBnZXREaW0oJCh0aGlzKSkuaGVpZ2h0O1xuXHRcdFx0XHRpZihjb2xzICE9PSAxICYmIChpbmRleCsxKSAlIGNvbHMgPT09IDApe1xuXHRcdFx0XHRcdGZvcih2YXIgaSA9IGluZGV4IC0gY29scyArIDE7IGkgPD0gaW5kZXg7IGkrKykgJGNlbGxzLmVxKGkpLm91dGVySGVpZ2h0KG1heENoKTtcblx0XHRcdFx0XHRtYXhDaCA9IDA7XG5cdFx0XHRcdH0gZWxzZSBpZihjb2xzICE9PSAxICYmIGluZGV4ID09PSBsZW5ndGgtMSkge1xuXHRcdFx0XHRcdGZvcih2YXIgaSA9IE1hdGguZmxvb3IoKGluZGV4KzEpL2NvbHMpICogY29sczsgaSA8PSBpbmRleDsgaSsrKSAkY2VsbHMuZXEoaSkub3V0ZXJIZWlnaHQobWF4Q2gpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgaGVpZ2h0ID0gY3cgKiBjdXJHRGF0YS5yYXRpbztcblx0XHRcdFx0aWYoJHRhcmdldC5pcygnLmVzLmVzLW5lc3RlZCcpKSBoZWlnaHQgLT0gKGd1dCAtIGd1dC9NYXRoLmNlaWwobGVuZ3RoL2NvbHMpKTtcblx0XHRcdFx0JCh0aGlzKS5vdXRlckhlaWdodChoZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGlmKHByZVcgIT0gJHRhcmdldC5vdXRlcldpZHRoKCkpe1xuXHRcdFx0Y3cgPSAoZ2V0RGltKCR0YXJnZXQpLndpZHRoIC0gZ3V0Kihjb2xzLTEpKS9jb2xzO1xuXHRcdFx0JGNlbGxzLmVhY2goZnVuY3Rpb24oaW5kZXgpeyAkKHRoaXMpLm91dGVyV2lkdGgoY3cqY2VsbHNbaW5kZXhdICsgZ3V0KihjZWxsc1tpbmRleF0tMSkpOyB9KTtcblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gYWRqdXN0V2lkdGgoJHRhcmdldCwgY3VyR0RhdGEpe1xuXHRcdHZhciBndXQgPSBjdXJHRGF0YS5ndXR0ZXI7XG5cdFx0dmFyIGNvbHMgPSBjdXJHRGF0YS5jb2x1bW5zO1xuXHRcdHZhciBjZWxscyA9IGN1ckdEYXRhLmNlbGxzO1xuXHRcdHZhciAkY2VsbHMgPSAkdGFyZ2V0LmNoaWxkcmVuKCcuZXMuZXMtY2VsbCcpO1xuXHRcdHZhciBjdyA9IChnZXREaW0oJHRhcmdldCkud2lkdGggLSBndXQqKGNvbHMtMSkpL2NvbHM7XG5cdFx0JGNlbGxzLmVhY2goZnVuY3Rpb24oaW5kZXgpe1xuXHRcdFx0JCh0aGlzKS5vdXRlcldpZHRoKGN3KmNlbGxzW2luZGV4XSArIGd1dCooY2VsbHNbaW5kZXhdLTEpKTtcblx0XHR9KTtcblx0fVxuXHQvKlxuXHRmdW5jdGlvbiBjYWxjR3JpZChkYXRhKXtcblx0XHR2YXIgY3VyID0ge30sIGlkeDtcblx0XHRpZihfYnBpID49IDApIGlkeCA9IF9icGk7XG5cdFx0ZWxzZSBpZihfYnBpID09IC0xKSBpZHggPSAwO1xuXHRcdGVsc2UgaWYoX2JwaSA9PSAtMikgaWR4ID0gX2JwLmxlbmd0aC0xO1xuXHRcdGN1ci5jb2x1bW5zID0gZGF0YS5jb2x1bW5zW2lkeF07XG5cdFx0Y3VyLnJhdGlvID0gZGF0YS5yYXRpb1tpZHhdO1xuXHRcdGN1ci5ndXR0ZXIgPSBjYWxjKGRhdGEuZ3V0dGVyLnNlcmllcywgZGF0YS5ndXR0ZXIubWF4LCBkYXRhLmd1dHRlci5mdW5jKTtcblx0XHRjdXIuY2VsbHMgPSBbXTtcblx0XHRmb3IodmFyIGkgPSAwLCBsZW4gPSBkYXRhLmNlbGxzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKXtcblx0XHRcdCBpZihkYXRhLmNlbGxzW2ldKSBjdXIuY2VsbHNbaV0gPSBkYXRhLmNlbGxzW2ldW2lkeF07XG5cdFx0XHQgZWxzZSBjdXIuY2VsbHNbaV0gPSAxO1xuXHRcdH1cblx0XHRyZXR1cm4gY3VyO1xuXHR9XG5cdCovXG5cdGZ1bmN0aW9uIGdldERpbSgkb2JqKXtcblx0XHRyZXR1cm4gJG9ialswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0fVxufSkoalF1ZXJ5KTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9hcHAvcmVzcC1zdHlsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=");

/***/ }
/******/ ]);